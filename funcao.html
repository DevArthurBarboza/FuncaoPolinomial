<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    html{
        width: 100%;
        height: 100%;
        display: flex;
    }
    body{
        box-sizing: border-box;
    }

    .inputs-monomio input{
        width: 250px;
    }

</style>
<body>
    <label for="quantidade_de_monomios">Quantidade de Monomios</label>
    <input id="quantidade_de_monomios" type="number" >    
    <input id="epsilon" placeholder="Informe o épsilon">
    <button onclick="createForm()" id="btn_quantidade_de_monomios">Enviar</button>
    <div style="display:flex;flex-flow: column;" class="inputs-monomio">
    </div>
    
    <!-- <button onclick="addValues()">Adicionar Valores</button> -->
</body>
<script>

    function createForm(){
        let quantidade_de_monomios = document.querySelector('#quantidade_de_monomios').value
        const listaInputs = []
        
        for(let i=1;i <= quantidade_de_monomios;i++){
            let input = document.createElement('input')
            input.setAttribute('class','monomio-value')
            input.setAttribute('placeholder','Informe o ' + i + '° monomio')
            let inputExp = document.createElement('input')
            inputExp.setAttribute('class','monomio-exp')
            inputExp.setAttribute('placeholder','Informe o expoente do ' + i + '° monomio')
            listaInputs.push(input)
            listaInputs.push(inputExp)
        }
        let div = document.querySelector('.inputs-monomio')
        for(let i=0;i < listaInputs.length;i++){
            div.appendChild(listaInputs[i])
        }
        let buttonSendValue = document.createElement('button')
        buttonSendValue.setAttribute("value","Enviar")
        buttonSendValue.setAttribute("onClick","calc()")
        buttonSendValue.innerText = "Enviar"
        div.appendChild(buttonSendValue)
    }

    function calc(){
        const epsilon = document.querySelector('#epsilon').value
        const expInputs = document.querySelector('.inputs-monomio').getElementsByClassName('monomio-exp')
        const monInputs = document.querySelector('.inputs-monomio').getElementsByClassName('monomio-value')
        const result = []
        let sumOfAllValues = 0
        let range = [-10,10]
        let x = 0

        while(x <= range[1] - range[0]){
            result[x] = []

            for(let i=0;i < monInputs.length;i++){
                result[x][i] = parseFloat(Math.pow(x, expInputs[i].value) * monInputs[i].value)
                sumOfAllValues += parseFloat(result[x][i])
            }
            console.log(sumOfAllValues)
            x++
        }
            
        console.log(result)
        
        /**
         * 
         *  Plotly.com/javascript
         * 
         * 
         */
    }


    function calcFunction(x,expInputs,monInputs){
        let result = 0
        for(let i=0;expInputs.length > 0;i++){
            result += parseFloat(Math.pow(x,expInputs[i].value) * monInputs[i])
        }
        return result
    }

</script>
</html>